<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Demo de threesw – switch de 3 estados</title>

    <!-- Bootstrap y Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Estilos del componente -->
    <link href="threesw.css" rel="stylesheet">
</head>
<body class="p-4">

<h2>Demo de <code>threesw</code> – Switch de 3 estados reutilizable</h2>
<p class="text-muted">Creado por <strong>WeKnowdev</strong>. Este componente permite seleccionar entre 3 estados con una interfaz animada tipo candlestick.</p>

<h4>Ejemplo principal</h4>

<div id="switch1" class="threesw state-1 mb-3">
    <div class="threesw-bg"></div>
    <div class="threesw-option" data-state="0"><i class="bi bi-x-circle-fill text-danger"></i></div>
    <div class="threesw-option active" data-state="1"><i class="bi bi-dash-circle-fill text-secondary"></i></div>
    <div class="threesw-option" data-state="2"><i class="bi bi-check-circle-fill text-success"></i></div>
    <input type="hidden" name="threesw_value" value="1">
    <span class="threesw-label ms-2"></span>
</div>

<h5>Acciones programáticas</h5>
<button id="getValueBtn" class="btn btn-outline-primary me-2">Ver valor actual</button>
<button onclick="mySwitch.setValue(0)" class="btn btn-outline-danger me-2">Cambiar a KO (❌)</button>
<button onclick="mySwitch.setValue(1)" class="btn btn-outline-secondary me-2">Cambiar a Neutro (➖)</button>
<button onclick="mySwitch.setValue(2)" class="btn btn-outline-success">Cambiar a OK (✔️)</button>

<hr class="my-4">

<h5>Uso en formulario</h5>
<form id="demoForm">
    <input type="hidden" name="estado_actual" value="">
    <button type="submit" class="btn btn-primary">Enviar</button>
</form>

<p id="formResult" class="mt-3 text-success fw-bold"></p>

<!-- jQuery (opcional si usas otras cosas) -->
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

<!-- JS del componente -->
<script src="threesw.js"></script>

<script>
    const mySwitch = new threesw(document.getElementById('switch1'));

    document.getElementById('getValueBtn').addEventListener('click', () => {
        alert("Valor actual: " + mySwitch.getValue());
    });

    document.getElementById('demoForm').addEventListener('submit', function(e) {
        e.preventDefault();
        const value = mySwitch.getValue();
        this.querySelector('[name="estado_actual"]').value = value;
        document.getElementById('formResult').textContent = "Valor enviado: " + value;
    });
</script>
</body>
</html>
